<div class="header-main">
  <div class="container">
    <a href="index.html" class="header-logo">
      <img
        src="./assets/images/logo/logo.png"
        alt="logo"
        width="90"
        height="80"
      />
    </a>

    <div class="header-search-container">
      <input
        type="search"
        name="search"
        class="search-field"
        placeholder="Enter your Electronic product name !!"
      />

      <button class="search-btn">
        <ion-icon name="search-outline"></ion-icon>
      </button>
    </div>

    <div class="header-user-actions">
      <a href="./userlogin.html" class="user-login">Login</a>
      <p class="user-profile">Hello, <span class="user-id">User</span></p>

      <a class="action-btn" type="button" href="#">
        <ion-icon name="person-outline"></ion-icon>
      </a>

      <a class="action-btn" type="button" href="cart.html">
        <ion-icon name="bag-handle-outline"></ion-icon>
        <span class="count">0</span>
      </a>

      <a href="./index.html" class="user-logout">Logout</a>
    </div>
  </div>

  <script>
    const userLoginElement = document.querySelector(".user-login");
    const userProfileElement = document.querySelector(".user-profile");
    const userIdElement = document.querySelector(".user-id");
    const userLogoutElement = document.querySelector(".user-logout");

    const isLoggedIn = sessionStorage.getItem("isLoggedIn");

    // Display logging user First name
    if (isLoggedIn) {
      userLoginElement.style.display = "none"; // Hide the login link
      const firstName = getLoggedInUserFirstName(); // Get first name
      userIdElement.textContent = firstName; // Update user ID with first name
    } else {
      userProfileElement.style.display = "none";
      userLogoutElement.style.display = "none";
    }

    // Log out
    userLogoutElement.addEventListener("click", () => {
      sessionStorage.removeItem("isLoggedIn"); // Clear login status
      sessionStorage.removeItem("userData"); // Clear user data

      // Optionally redirect to the login page or other relevant page
      window.location.href = "./userlogin.html";
    });

    function getLoggedInUserFirstName() {
      // Retrieve user data from sessionStorage or another mechanism
      const userData = JSON.parse(sessionStorage.getItem("userData"));

      if (userData && userData.firstName) {
        return userData.firstName;
      } else {
        return null;
      }
    }
  </script>
</div>
